<!-- The trick seems to be, if you want colour that goes all the way across
    the viewport, just use a div, not a container. Doh! -->
<div class="bg-dark menu-wrap">
  <%# bg-primary needed also on nav for fixed manu to show up. %>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <!-- Don't put this in the container -->
    <button class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="container">
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav">
          <li class="nav-item">
            <% if current_user %>
            <% if current_user.subjects.count == 1 %>
              <%= link_to "Home", person_path(current_user.subjects.first), class: "nav-link" %>
            <% end %>
            <%= link_to "Teams", home_user_path(current_user), class: "nav-link" %>
            <% end %>
          </li>
        </ul>
        <ul class="navbar-nav ml-auto">
          <% if current_user %>
          <li class="nav-item">
            <%= link_to "Profile", edit_user_path(current_user), class: "nav-link" %>
          </li>
          <li class="nav-item">
            <%= link_to "Sign out", signout_path, class: "nav-link" %>
          </li>
          <% end %>
        </ul>
      </div>
    </div>
  </nav>
</div>
